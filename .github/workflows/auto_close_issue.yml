name: Auto Close Issue
on:
  issues:
    types: [labeled]

jobs:
  auto-close:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Close Inactive Issue
        if: ${{ github.event.label.name == 'stale' }}
        uses: peter-evans/close-issue@v1
        with:
          comment: |
            🕒 This issue has been closed due to **prolonged inactivity**. If this is still relevant, please open a new issue with updated details for further assistance.
              
            ---

            🕒 由于**长时间无更新**，此 issue 已被关闭。如果问题仍然存在，欢迎提交新的 issue 并提供最新信息，我们会尽力协助。
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Close Duplicate Issue
        if: ${{ github.event.label.name == 'duplicate' }}
        uses: peter-evans/close-issue@v1
        with:
          comment: |
            🔄 This issue has been closed **as a duplicate**. Refer to the original issue (#link-to-original-issue) for more context.

            ---

            🔄 该 issue 因**重复**已被关闭。请参考原始 issue 获取更多信息。
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Close Invalid Issue
        if: ${{ github.event.label.name == 'invalid' }}
        uses: peter-evans/close-issue@v1
        with:
          comment: |
            ❌ This issue has been closed because **it doesn’t seem to align with the project’s scope or requirements**. If you believe this is a mistake, please open a new issue with more context so we can investigate further.

            ---

            ❌ 此 issue 已被关闭，因为它似乎**与项目的范围或需求不符**。如果您认为这是误判，请提交一个新的 issue 并提供更多背景信息，以便我们进一步核实。
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Close Won't Fix Issue
        if: ${{ github.event.label.name == 'wontfix' }}
        uses: peter-evans/close-issue@v1
        with:
          comment: |
            🚫 After review, this issue has been closed as **it does not align with the current roadmap** Thank you for your understanding and contributions.

            ---

            🚫 经过评估，此 issue 已被关闭，因为它**不在当前项目的重点范围内**。感谢您的理解与支持。
          token: ${{ secrets.GITHUB_TOKEN }}
